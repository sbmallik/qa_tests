Scenario: As a user, I want to be able to access the Feel Good 5 web application
	Given I am a public user of the Internet and not authenticated
	When I open the Feel Good 5 application
	Then I should see the Feel Good 5 application open
	And there should be articles displayed in the list
	And each article should show two titles, a primary “topic” title, and a secondary “article” title
	And if an article’s secondary title is too long, it should be truncated with eclipses
	And all article headers should be the same height
	And there should be a count of articles
	And there should be an azcentral co-brand header
	And there should be an azcentral co-brand footer
	And there should be a 300x250 ad in the right rail

Scenario: As a user, I want to be able to interact with the Feel Good 5 web application
	Given I am a public user of the Internet and I have accessed the FG5 application
	When I access an article with a specific title
	Then I should see the full version of the article
	And the article that I selected should be highlighted in the list of articles
	And the content of the article should be fully visible
	And the credits for the article should be visible


Scenario: As a user, I want to be able to navigate the Feel Good 5 web application
	Given I am a public user of the Internet and I have accessed the FG5 application
	When I click the down arrow in the list of articles
	Then the next set of articles should be displayed

Scenario: As a user, I access an article that was previously published via the FG5 platform
	Given I am a public user of the Internet and I access a link that is no longer among the listed 5 articles
	When I open the link to the article
	Then I should see the current articles demoted to 2nd, 3rd, 4th, and 5th place
	And I should see the article that I linked to as the 1st article
	And the article that I linked to should be highlighted in the list of articles
	And the content of the article that I linked to should be visible

Scenario: As a user, I want to be able to share the article that I am looking at on social media
	Given I am a public user of the Internet and I have accessed the FG5 application
	When I choose an article to view
	And I click on the <social> icon
	Then I should be prompted to share the article on <social>
	And the link given should be the same as the article that I am looking at

Examples:
| social		|
| Facebook		|
| Twitter		|
| e-mail		|



Given(/^I am on the Feel Good Five page at "(.*?)"$/) do |url|
  visit url
end

Then(/^there should be five articles displayed in a list on the right$/) do
    #within(:css, 'div.ldsn-pf-menu-list') { 
    	page.has_selector?('span.ldsn-number', :count => 5)
    #}
end

And(/^there should be an title on the first article page$/) do
    #within(:css, 'div.ldsn-pf-headline') { 
    page.has_text?("<h1>Quiz: Which 'Star Wars' character are you?</h1>")
    	#{}page.should have_content ("<h1>Quiz: Which 'Star Wars' character are you?</h1>")
    #}
end

And(/^there should be an azcentral co-brand header$/) do
    #within(:css, 'div.ldsn-pf-header') { 
		page.has_selector?(:xpath, './/iframe[@src="//www.azcentral.com/services/cobrand/header/"]')
	#}
end

And(/^there should be an azcentral co-brand footer$/) do
    #within(:css, 'div.ldsn-pf-footer') { 
		page.has_selector?(:xpath, './/iframe[@src="//pages.azcentral.com/generic-azcentral-footer/"]')
	#}
end
And(/^there should be a 300x250 ad in the right rail$/) do
    #within(:css, '#dfp300x250a') { 
		page.has_selector?(:xpath, './/iframe[@id="google_ads_iframe_/7103/az-phoenix-C1531/poster_front/news/local/features_feelgood5_main_0"]')
	#}
end
And(/^there should be a count of articles$/) do
    #within(:css, 'div.ldsn-pf-counter') { 
 		page.has_text?("<p>1 of 5</p>")
	#}
end

=begin
	#page.find(".omni-event-link", :text => "Arizona's top high school football prospects: 2018 class").click
    #page.find(".omni-event-link", :text => "Arizona's top high school football prospects: 2018 class").click
	#find(:xpath, '//a[class='omni-event-link'][2]').click


Then(/^the code: 'span.comic-date-r' with today's date "(.*?)" appears ten times on the page$/) do |date|
	page.should have_selector 'span.comic-date-r', :text => date, :count => 10
end

Then(/^I should see one main comic and ten other Comics displayed$/) do
	page.assert_selector('img.comic-display', :count => 1)
	page.assert_selector('img.uclick-display', :count => 10)
end

Then(/^I should see one 728x90 Ad on the page$/) do
	page.has_selector?(:xpath, './/div[@id="google_ads_iframe_/7103/az-phoenix-C1531/728x90_1/classifieds_0__container__"]')
end

Then(/^I should see one 300x250 Ad on the page$/) do
	page.has_selector?(:xpath, './/div[@id="google_ads_iframe_/7103/az-phoenix-C1531/300x250_2/classifieds_0__container__"]')
end

Then(/^the page should contain the correct link to the Ominture file$/) do
	page.has_selector?(:xpath, '//script[src="/static/js/phx-omniture-1.js"]')
end
=end